// === –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è ===
    window.getLocation = function(ev) {
      const btn = ev?.target || document.querySelector('.geo-btn');
      if (btn) { btn.disabled = true; btn.textContent = '‚è≥'; }

      if (!navigator.geolocation) {
        alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º');
        if (btn) { btn.disabled = false; btn.textContent = 'üìç'; }
        return;
      }

      navigator.geolocation.getCurrentPosition(
        async (position) => {
          const { latitude, longitude } = position.coords;
          try {
            // –ó–∞–ø—Ä–æ—Å –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
            const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&accept-language=en`);
            const data = await response.json();
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —á–∏—Ç–∞–µ–º—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∞–¥—Ä–µ—Å
            let address = '';
            if (data.address) {
              const parts = [];
              if (data.address.road) parts.push(data.address.road);
              if (data.address.house_number) parts.push(data.address.house_number);
              if (data.address.suburb || data.address.neighbourhood) parts.push(data.address.suburb || data.address.neighbourhood);
              if (data.address.city || data.address.town) parts.push(data.address.city || data.address.town);
              
              address = parts.length > 0 ? parts.join(', ') : data.display_name;
            } else {
              address = data.display_name || '';
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Å–∫–æ–±–∫–∞—Ö –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Grab/Maxim
            const coords = `${latitude.toFixed(6)}, ${longitude.toFixed(6)}`;
            const finalAddress = `${address} (${coords})`;
            
            const addrEl = document.getElementById('address');
            if (addrEl) addrEl.value = finalAddress;
          } catch (error) {
            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
            const addrEl = document.getElementById('address');
            const coords = `${latitude.toFixed(6)}, ${longitude.toFixed(6)}`;
            if (addrEl) addrEl.value = coords;
          }
          if (btn) { btn.disabled = false; btn.textContent = 'üìç'; }
        },
        (error) => {
          alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –≤—Ä—É—á–Ω—É—é.');
          if (btn) { btn.disabled = false; btn.textContent = 'üìç'; }
        },
        { enableHighAccuracy: true, timeout: 10000 }
      );
    };
